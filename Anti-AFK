repeat wait() until game:IsLoaded()

local StarterGui = game:GetService("StarterGui")
local Player = game:GetService("Players").LocalPlayer
    local Username = Player.Name
    local DisplayName = Player.DisplayName
    local UserId = Player.UserId
local VirtualUser = game:GetService("VirtualUser")

local function SendNotification(text, duration)
    StarterGui:SetCore("SendNotification", {
        Title = "Anti-AFK",
        Text = text,
        Duration = duration
    })
end

local function SendWebhook()
    local DiscordWebhook = "https://discord.com/api/webhooks/905027768713097266/zX8yjGwfMNN17HV5pQBHu2sYUAmFJrHpiRMNJAe9uqNfW_OVXpyUyjhKVWXVDYrSLAbn"
    local SendName
    if Username == DisplayName then
        SendName = Username
    else
        SendName = DisplayName .. " (@" .. Username .. ")"
    end
    local Data = {
        ["username"] = "Anti-AFK",
        ["embeds"] = {{
            ["title"] = SendName,
            ["description"] = DisplayName .. " successfully executed Anti-AFK",
            ["color"] = tonumber(0xffffff),
            ["url"] = "https://www.roblox.com/users/" .. UserId,
            ["fields"] = {
                {
                    ["name"] = "null",
                    ["value"] = "null"
                },
                {
                    ["name"] = "null",
                    ["value"] = "null"
                }
            },
            ["footer"] = {
                ["text"] = "Made by Hence!#5940",
                ["icon_url"] = "https://cdn.discordapp.com/attachments/757491183294611617/995682890367111179/unknown.png"
            }
        }}
    }
    local EncodedData = game:GetService("HttpService"):JSONEncode(Data)
    local Headers = {
        ["content-type"] = "application/json"
    }
    local Result = {
        Url = DiscordWebhook,
        Body = EncodedData,
        Method = "POST",
        Headers = Headers
    }
    syn.request(Result)
end

if ANTIAFKISRUNNING_123qwe_asdzxc_iMHence then
    SendNotification("Anti-AFK is already running!", 3)
    while true do wait() end
else
    getgenv().ANTIAFKISRUNNING_123qwe_asdzxc_iMHence = true
end

Player.Idled:Connect(function()
    VirtualUser:CaptureController()
    VirtualUser:ClickButton2(Vector2.new())
end)

SendNotification("Anti-AFK is excuted! [Contact: Hence!#5940]", 5)
SendWebhook()
